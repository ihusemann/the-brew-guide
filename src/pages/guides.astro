---
import PostPreview from "src/components/PostPreview/PostPreview.astro";
import ScrollingHero from "src/components/ScrollingHero";
import GutterLayout from "src/layouts/GutterLayout.astro";
import MainLayout from "src/layouts/MainLayout.astro";
import { SEO } from "astro-seo";
import PostPreviewGrid from "src/components/PostPreview/PostPreviewGrid.astro";
import { getPublishedPosts } from "src/util";

const guides = await getPublishedPosts("guides");
---

<head>
  <SEO
    title="Guides | The Brew Guide"
    description="Brew guides to up your home coffee and espresso game."
  />
</head>

<MainLayout>
  <ScrollingHero client:load label="Brew Guides" />

  <GutterLayout>
    <PostPreviewGrid>
      {
        guides.map((post) => (
          <PostPreview post={post} />
        ))
      }
    </PostPreviewGrid>
  </GutterLayout>
</MainLayout>

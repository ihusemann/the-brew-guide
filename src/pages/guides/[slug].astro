---
import { CollectionEntry, getCollection } from "astro:content";
import FeatureSectionItem from "src/components/Guide/FeatureSectionItem.astro";
import GuideHeader from "src/components/Guide/GuideHeader.astro";
import MainLayout from "src/layouts/MainLayout.astro";

export async function getStaticPaths() {
  const guideEntries = await getCollection("guides");

  return guideEntries.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

interface Props {
  entry: CollectionEntry<"guides">;
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<MainLayout>
  <GuideHeader guide={entry} />

  <section class="grid grid-cols-1 gap-x-6 py-24 px-6 sm:px-8 md:grid-cols-2">
    <div>
      <h2 class="text-5xl font-bold tracking-tighter md:text-8xl">
        Why Aeropress?
      </h2>
      <p class="mt-5 text-xl font-medium">
        Typewriter cronut meggings vibecession, small batch ugh narwhal vinyl
        migas knausgaard bushwick big mood.
      </p>
      <ul class="mt-5 grid grid-cols-2 gap-1.5">
        <FeatureSectionItem label="Slimey juice" />
        <FeatureSectionItem label="Happy birds" />
        <FeatureSectionItem label="Quaint hostels" />
        <FeatureSectionItem label="Fainting pants" />
        <FeatureSectionItem label="Wannabe disk jockeys" />
      </ul>
    </div>
    <div class="aspect-w-5 aspect-h-4 w-full overflow-hidden">
      <img
        src="/assets/ben-moreland-1Yje-NZrrME-unsplash.jpg"
        alt="a person making coffee with an aeropress brewer"
        class="object-cover"
      />
    </div>
  </section>

  <section class="bg-blue-50 py-12">
    <h2>You'll Need</h2>
  </section>

  <div class="prose mx-auto">
    <Content />
  </div>
</MainLayout>

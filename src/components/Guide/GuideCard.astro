---
import type { CollectionEntry } from "astro:content";
import TagList from "../TagList.astro";

interface Props {
  guide: CollectionEntry<"guides">;
  size?: "lg" | "sm";
}

const { guide, size = "sm" } = Astro.props;
const { data, slug } = guide;
---

{
  size === "sm" && (
    <a href={`/guides/${slug}`} class="group">
      <article class="grid grid-cols-5 gap-x-4">
        <div class="aspect-h-4 aspect-w-4 col-span-2">
          <img
            src="/assets/goran-ivos-kQIaF3iPLS4-unsplash.jpg"
            alt="making aeropress coffee"
            class="object-cover object-center"
          />
        </div>
        <div class="col-span-3 flex flex-col justify-center">
          <h2 class="text-lg font-bold group-hover:underline group-hover:underline-offset-4">{data.title}</h2>
          <p class="truncate text-sm text-neutral-600">{data.description}</p>
          <div class="mt-2">
            <TagList tags={data.tags} />
          </div>
        </div>
      </article>
    </a>
  )
}

{
  size === "lg" && (
    <a href={`/guides/${slug}`} class="group">
      <article class="flex flex-col">
        <div class="aspect-w-5 aspect-h-4">
          <img
            src="/assets/goran-ivos-kQIaF3iPLS4-unsplash.jpg"
            alt="making aeropress coffee"
            class="object-cover object-center"
          />
        </div>
        <div class="mt-3">
          <h2 class="grow text-lg font-bold tracking-tight group-hover:underline group-hover:underline-offset-4">{data.title}</h2>
          <p class="text-neutral-600">{data.description}</p>
          <div class="mt-3">
            <TagList tags={data.tags} />
          </div>
        </div>
      </article>
    </a>
  )
}
